<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <title>Poly01</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="d3.js"></script>
    <script type="text/javascript" src="geometricFunctions.js"></script>
    <script type="text/javascript" src="ChaikaClasses.js"></script>
    <link rel="shortcut icon" href="favicon.ico">
    <style type="text/css">
        /* No style rules here yet */		
    </style>
</head>
<body>
    <h2>Various Grid Configurations</h2>

    <div id="grid">   </div>

    <script type="text/javascript">
        var svgW = 960;             //svg width
        var svgH = 960;             //svg height
        var originX = svgW / 2;     //origin in svg
        var originY = svgH / 2;
        var i, j, k, m, c;
        var ss = (Math.min(svgW, svgH) / 12);    //side length of polygons
        var rr = ss / 8;                        //radius of vertex circles

        var triBase = new Basis([1, 0], [-0.5, Math.sqrt(3) / 2], [-0.5, -Math.sqrt(3) / 2]);
        var sqrBase = new Basis([1, 0], [0, 1], [0, 0]);
        
        // The following defines an 8 by 8 square: 
        var gridDataSq8x8 = [{x1: -4, x2: +3, y1: -4, y2: +3}];
        // A color is assigned to each grid entry; distinct 
        // integers indicate distinct colors 
        var gridColorsSq8x8 = [
            [1, 1, 1, 1, 0, 0, 0, 0],
            [1, 1, 1, 1, 0, 0, 0, 0],
            [1, 1, 1, 1, 0, 0, 0, 0],
            [1, 1, 1, 1, 0, 0, 0, 0],
            [1, 1, 1, 1, 0, 0, 0, 0],
            [1, 1, 1, 1, 0, 0, 0, 0],
            [1, 1, 1, 1, 0, 0, 0, 0],
            [1, 1, 1, 1, 0, 0, 0, 0]];
        
        var sqrGridPoints = new PointGrid(sqrBase, gridDataSq8x8, gridColorsSq8x8, ss);
        
        console.log(sqrGridPoints.points);
        
        var svgGrid = d3.select("#grid").append("svg")
                .attr("width", svgW)
                .attr("height", svgH)
                .style("border", "1px solid black");

        var svgSqrGroup = svgGrid.append("g")
                .attr("transform", "translate(" + originX + "," + originY + ")");
        
        var circles = svgSqrGroup.selectAll("circle")
                    .data(sqrGridPoints.points)
                    .enter()
                    .append("circle")
                    .attr("cx", function (d) {
                        console.log(d);
                        return d.x;
                    })
                    .attr("cy", function (d) {
                        console.log(d);
                        return d.y;
                    })
                    .attr("r", rr)
                    .attr("stroke-width", 2)
                    .style("fill", function (d, i) {
                        console.log(d);
                        return gcolor(d.color);
                    });
    </script>
</body>
</html>
